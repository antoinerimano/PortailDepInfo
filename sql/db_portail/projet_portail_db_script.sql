-- MySQL Script generated by MySQL Workbench
-- Sat Mar 25 17:32:15 2023
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema projet_portail_db
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `projet_portail_db` ;

-- -----------------------------------------------------
-- Schema projet_portail_db
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `projet_portail_db` DEFAULT CHARACTER SET utf8 ;
USE `projet_portail_db` ;

-- -----------------------------------------------------
-- Table `projet_portail_db`.`Utilisateur`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `projet_portail_db`.`Utilisateur` ;

CREATE TABLE IF NOT EXISTS `projet_portail_db`.`Utilisateur` (
  `idUtilisateur` INT NOT NULL AUTO_INCREMENT,
  `username` VARCHAR(45) NULL,
  `password` VARCHAR(45) NULL,
  `typeUtilisateur` VARCHAR(45) NULL,
  `codeP` INT NULL,
  PRIMARY KEY (`idUtilisateur`),
  UNIQUE INDEX `codeP_UNIQUE` (`codeP` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `projet_portail_db`.`Etudiant`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `projet_portail_db`.`Etudiant` ;

CREATE TABLE IF NOT EXISTS `projet_portail_db`.`Etudiant` (
  `idEtudiant` INT NOT NULL AUTO_INCREMENT,
  `codeP` INT NULL,
  `nom` VARCHAR(45) NULL,
  `prenom` VARCHAR(45) NULL,
  `dateNaissance` VARCHAR(45) NULL,
  `programme` VARCHAR(45) NULL,
  `typeEtudiant` VARCHAR(45) NULL,
  `ancien` TINYINT NULL,
  PRIMARY KEY (`idEtudiant`),
  UNIQUE INDEX `codeP_UNIQUE` (`codeP` ASC) VISIBLE
)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `projet_portail_db`.`Professeur`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `projet_portail_db`.`Professeur` ;

CREATE TABLE IF NOT EXISTS `projet_portail_db`.`Professeur` (
  `idProfesseur` INT NOT NULL AUTO_INCREMENT,
  `codeP` INT NULL,
  `nom` VARCHAR(45) NULL,
  `prenom` VARCHAR(45) NULL,
  `dateNaissance` VARCHAR(45) NULL,
  PRIMARY KEY (`idProfesseur`),
  UNIQUE INDEX `codeP_UNIQUE` (`codeP` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `projet_portail_db`.`Projet`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `projet_portail_db`.`Projet` ;

CREATE TABLE IF NOT EXISTS `projet_portail_db`.`Projet` (
  `idProjet` INT NOT NULL AUTO_INCREMENT,
  `nom` VARCHAR(100) NULL,
  `cour` VARCHAR(45) NULL,
  `description` VARCHAR(400) NULL,
  `dateCreation` VARCHAR(45) NULL,
  `programme` VARCHAR(45) NULL,
  `superviseur` VARCHAR(45) NULL,
  `lienGit` VARCHAR(400) NULL,
  `lienImg` VARCHAR(400) NULL,
  `note` INT NULL,
  `codeP` INT NULL,
  PRIMARY KEY (`idProjet`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `projet_portail_db`.`NoteCour`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `projet_portail_db`.`NoteCour` ;

CREATE TABLE IF NOT EXISTS `projet_portail_db`.`NoteCour` (
  `idNoteCour` INT NOT NULL AUTO_INCREMENT,
  `nom` VARCHAR(45) NULL,
  `cour` VARCHAR(45) NULL,
  `lienGit` VARCHAR(400) NULL,
  `codeP` INT NULL,
  PRIMARY KEY (`idNoteCour`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `projet_portail_db`.`listeEtudiantProjet`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `projet_portail_db`.`listeEtudiantProjet` ;

CREATE TABLE IF NOT EXISTS `projet_portail_db`.`listeEtudiantProjet` (
  `idProjet` INT NULL,
  `idEtudiant` INT NULL,
  INDEX `idProjet_idx` (`idProjet` ASC) VISIBLE,
  INDEX `idEtudiant_idx` (`idEtudiant` ASC) VISIBLE,
  CONSTRAINT `idProjet`
    FOREIGN KEY (`idProjet`)
    REFERENCES `projet_portail_db`.`Projet` (`idProjet`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `idEtudiant`
    FOREIGN KEY (`idEtudiant`)
    REFERENCES `projet_portail_db`.`Etudiant` (`idEtudiant`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `projet_portail_db`.`listeProfesseurNote`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `projet_portail_db`.`listeProfesseurNote` ;

CREATE TABLE IF NOT EXISTS `projet_portail_db`.`listeProfesseurNote` (
  `idProfesseur` INT NULL,
  `idNoteCour` INT NULL,
  INDEX `idProfesseur_idx` (`idProfesseur` ASC) VISIBLE,
  INDEX `idNoteCour_idx` (`idNoteCour` ASC) VISIBLE,
  CONSTRAINT `idNoteCour`
    FOREIGN KEY (`idNoteCour`)
    REFERENCES `projet_portail_db`.`NoteCour` (`idNoteCour`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `idProfesseur`
    FOREIGN KEY (`idProfesseur`)
    REFERENCES `projet_portail_db`.`Professeur` (`idProfesseur`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;
-- ---------------------------------
 -- CONSTRAINT `idProfesseur`
 --   FOREIGN KEY (`idProfesseur`)
 --   REFERENCES `projet_portail_db`.`Professeur` (`idProfesseur`)
 --    ON DELETE NO ACTION
 --   ON UPDATE NO ACTION,
 -- CONSTRAINT `idNoteCour`
 --   FOREIGN KEY (`idNoteCour`)
 --   REFERENCES `projet_portail_db`.`NoteCour` (`idNoteCour`)
 --   ON DELETE NO ACTION
 --   ON UPDATE NO ACTION)
-- ---------------------------------------------

-- -----------------------------------------------------
-- Table `projet_portail_db`.`Tuteur`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `projet_portail_db`.`Tuteur` ;

CREATE TABLE IF NOT EXISTS `projet_portail_db`.`Tuteur` (
  `idTuteur` INT NOT NULL AUTO_INCREMENT,
  `codeP` INT NULL,
  `cour` VARCHAR(45) NULL,
  `typeRencontre` VARCHAR(45) NULL,
  `disponibilite` VARCHAR(45) NULL,
  `visibilite` TINYINT NULL,
  PRIMARY KEY (`idTuteur`),
  INDEX `codeP_idx` (`codeP` ASC) VISIBLE,
  CONSTRAINT `codeP_Tuteur`
    FOREIGN KEY (`codeP`)
    REFERENCES `projet_portail_db`.`Etudiant` (`codeP`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `projet_portail_db`.`EtudiantDifficulte`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `projet_portail_db`.`EtudiantDifficulte` ;

CREATE TABLE IF NOT EXISTS `projet_portail_db`.`EtudiantDifficulte` (
  `idEtudiantDifficulte` INT NOT NULL AUTO_INCREMENT,
  `codeP` INT NULL,
  `cour` VARCHAR(45) NULL,
  `typeRencontre` VARCHAR(45) NULL,
  `disponibilite` VARCHAR(45) NULL,
  `description` VARCHAR(400) NULL,
  PRIMARY KEY (`idEtudiantDifficulte`),
  INDEX `codeP_idx` (`codeP` ASC) VISIBLE,
  CONSTRAINT `codeP_EtudiantDifficulte`
    FOREIGN KEY (`codeP`)
    REFERENCES `projet_portail_db`.`Etudiant` (`codeP`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `projet_portail_db`.`listeTuteurDifficulte`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `projet_portail_db`.`listeTuteurEtudiantDifficulte` ;

CREATE TABLE IF NOT EXISTS `projet_portail_db`.`listeTuteurEtudiantDifficulte` (
  `idTuteur` INT NULL,
  `idEtudiantDifficulte` INT NULL,
  INDEX `idTuteur_idx` (`idTuteur` ASC) VISIBLE,
  INDEX `idEtudiantDifficulte_idx` (`idEtudiantDifficulte` ASC) VISIBLE,
  CONSTRAINT `idTuteur_lst`
    FOREIGN KEY (`idTuteur`)
    REFERENCES `projet_portail_db`.`Tuteur` (`idTuteur`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `idEtudiantDifficulte_lst`
    FOREIGN KEY (`idEtudiantDifficulte`)
    REFERENCES `projet_portail_db`.`EtudiantDifficulte` (`idEtudiantDifficulte`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `projet_portail_db`.`Message`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `projet_portail_db`.`Message` ;

CREATE TABLE IF NOT EXISTS `projet_portail_db`.`Message` (
  `idMessage` INT NOT NULL AUTO_INCREMENT,
  `idEtudiantDifficulte` INT NULL,
  `idTuteur` INT NULL,
  `msgContent` VARCHAR(400) NULL,
  INDEX `idTuteur_idx` (`idTuteur` ASC) VISIBLE,
  PRIMARY KEY (`idMessage`),
  CONSTRAINT `idEtudiantDifficulte_msg`
    FOREIGN KEY (`idEtudiantDifficulte`)
    REFERENCES `projet_portail_db`.`EtudiantDifficulte` (`idEtudiantDifficulte`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `idTuteur_msg`
    FOREIGN KEY (`idTuteur`)
    REFERENCES `projet_portail_db`.`Tuteur` (`idTuteur`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `projet_portail_db`.`Utilisateur`
-- -----------------------------------------------------
START TRANSACTION;
USE `projet_portail_db`;
INSERT INTO `projet_portail_db`.`Utilisateur` (`idUtilisateur`, `username`, `password`, `typeUtilisateur`, `codeP`) VALUES (1, 'masterClassRizz', 'pass1234', 'etudiant', 2138934);
INSERT INTO `projet_portail_db`.`Utilisateur` (`idUtilisateur`, `username`, `password`, `typeUtilisateur`, `codeP`) VALUES (2, 'bigMom', 'pass1234', 'etudiant', 2145637);
INSERT INTO `projet_portail_db`.`Utilisateur` (`idUtilisateur`, `username`, `password`, `typeUtilisateur`, `codeP`) VALUES (3, 'cleverCanOfBeans', 'pass1234', 'professeur', 3421);

COMMIT;


-- -----------------------------------------------------
-- Data for table `projet_portail_db`.`Etudiant`
-- -----------------------------------------------------
START TRANSACTION;
USE `projet_portail_db`;
INSERT INTO `projet_portail_db`.`Etudiant` (`idEtudiant`, `codeP`, `nom`, `prenom`, `dateNaissance`, `programme`, `typeEtudiant`, `ancien`) VALUES (1, 2138934, 'Doe', 'John', '2023-12-12', 'programmation', 'normal', 0);
INSERT INTO `projet_portail_db`.`Etudiant` (`idEtudiant`, `codeP`, `nom`, `prenom`, `dateNaissance`, `programme`, `typeEtudiant`, `ancien`) VALUES (2, 3450923, 'Doe', 'Jane', '2022-11-11', 'reseautique', 'tuteur', 0);
INSERT INTO `projet_portail_db`.`Etudiant` (`idEtudiant`, `codeP`, `nom`, `prenom`, `dateNaissance`, `programme`, `typeEtudiant`, `ancien`) VALUES (3, 4091844, 'Poe', 'Edgar', '1998-08-01', 'programmation', 'normal', 1);
INSERT INTO `projet_portail_db`.`Etudiant` (`idEtudiant`, `codeP`, `nom`, `prenom`, `dateNaissance`, `programme`, `typeEtudiant`, `ancien`) VALUES (4, 2949871, 'Weiss', 'Eisen', '2004-01-21', 'reseautique', 'difficulte', 0);
INSERT INTO `projet_portail_db`.`Etudiant` (`idEtudiant`, `codeP`, `nom`, `prenom`, `dateNaissance`, `programme`, `typeEtudiant`, `ancien`) VALUES (5, 2145637, 'Dimitrescu', 'Alcina', '1432-04-13', 'reseautique', 'normal', 0);

COMMIT;


-- -----------------------------------------------------
-- Data for table `projet_portail_db`.`Professeur`
-- -----------------------------------------------------
START TRANSACTION;
USE `projet_portail_db`;
INSERT INTO `projet_portail_db`.`Professeur` (`idProfesseur`, `codeP`, `nom`, `prenom`, `dateNaissance`) VALUES (1, 3421, 'Sims', 'Jonathan', '1992-12-01');
INSERT INTO `projet_portail_db`.`Professeur` (`idProfesseur`, `codeP`, `nom`, `prenom`, `dateNaissance`) VALUES (2, 8923, 'Orsinov', 'Nikola', '2000-03-22');
INSERT INTO `projet_portail_db`.`Professeur` (`idProfesseur`, `codeP`, `nom`, `prenom`, `dateNaissance`) VALUES (3, 1282, 'Montauk', 'Julia', '1970-11-01');
INSERT INTO `projet_portail_db`.`Professeur` (`idProfesseur`, `codeP`, `nom`, `prenom`, `dateNaissance`) VALUES (4, 5410, 'Robinson', 'Gertrude', '1220-01-01');
INSERT INTO `projet_portail_db`.`Professeur` (`idProfesseur`, `codeP`, `nom`, `prenom`, `dateNaissance`) VALUES (5, 7209, 'Leitner', 'Jurgen', '1999-10-07');
INSERT INTO `projet_portail_db`.`Professeur` (`idProfesseur`, `codeP`, `nom`, `prenom`, `dateNaissance`) VALUES (6, 3409, 'Ahamada', 'Dini', '1986-12-12');
INSERT INTO `projet_portail_db`.`Professeur` (`idProfesseur`, `codeP`, `nom`, `prenom`, `dateNaissance`) VALUES (7, 2118, 'Lacoursiere', 'Gabriel', '1986-08-01');
INSERT INTO `projet_portail_db`.`Professeur` (`idProfesseur`, `codeP`, `nom`, `prenom`, `dateNaissance`) VALUES (8, 1234, 'Kheder ', 'Asma', '1992-02-20');

COMMIT;


-- -----------------------------------------------------
-- Data for table `projet_portail_db`.`Projet`
-- -----------------------------------------------------
START TRANSACTION;
USE `projet_portail_db`;
INSERT INTO `projet_portail_db`.`Projet` (`idProjet`, `nom`, `cour`, `description`, `dateCreation`, `programme`, `superviseur`, `lienGit`, `lienImg`, `note`, `codeP`) VALUES (1, 'tictactoe', 'PRO-A23-RO', 'lotsa X lotsa O', '2023-03-22', 'programmation', 'Ahamada', 'www.git.com/not_sus/tictactoe', 'tictactoe.jpg', NULL, 2138934);
INSERT INTO `projet_portail_db`.`Projet` (`idProjet`, `nom`, `cour`, `description`, `dateCreation`, `programme`, `superviseur`, `lienGit`, `lienImg`, `note`, `codeP`) VALUES (2, 'borealis', 'PRO-H27-PR', 'I MAKE YOU SEE THINGS', '2023-04-22', 'reseautique', 'Lacoursiere', 'www.git.com/sql_inject', 'boreal.jpg', NULL, 2145637);
INSERT INTO `projet_portail_db`.`Projet` (`idProjet`, `nom`, `cour`, `description`, `dateCreation`, `programme`, `superviseur`, `lienGit`, `lienImg`, `note`, `codeP`) VALUES (3, 'schemaReseau', 'RAD-H27-PR', 'un schema des reseaux rosemont', '2022-01-13', 'reseautique', 'Lacoursiere', 'www.git.com/reseau', 'reseau.jpg', NULL, 2949871);
INSERT INTO `projet_portail_db`.`Projet` (`idProjet`, `nom`, `cour`, `description`, `dateCreation`, `programme`, `superviseur`, `lienGit`, `lienImg`, `note`, `codeP`) VALUES (4, 'penduBonhomme', 'PRO-H22-RO', 'un homme pendu', '2000-12-19', 'programmation', 'Kheder', 'www.git.com/pendu', 'pendu.jpg', NULL, 4091844);

COMMIT;


-- -----------------------------------------------------
-- Data for table `projet_portail_db`.`NoteCour`
-- -----------------------------------------------------
START TRANSACTION;
USE `projet_portail_db`;
INSERT INTO `projet_portail_db`.`NoteCour` (`idNoteCour`, `nom`, `cour`, `lienGit`, `codeP`) VALUES (1, 'CommentPython101', 'PRO-A23-RO', 'www.git.com', 7209);
INSERT INTO `projet_portail_db`.`NoteCour` (`idNoteCour`, `nom`, `cour`, `lienGit`, `codeP`) VALUES (2, 'Basics On Security', 'RAD-H27-PR', 'www.git.com', 2118);
INSERT INTO `projet_portail_db`.`NoteCour` (`idNoteCour`, `nom`, `cour`, `lienGit`, `codeP`) VALUES (3, 'Java pour les nuls', 'PRO-A23-RO', 'www.git.com', 7209);
INSERT INTO `projet_portail_db`.`NoteCour` (`idNoteCour`, `nom`, `cour`, `lienGit`, `codeP`) VALUES (4, 'HTML et CSS', 'PWA-H23-RO', 'www.git.com', 1234);

COMMIT;


-- -----------------------------------------------------
-- Data for table `projet_portail_db`.`listeEtudiantProjet`
-- -----------------------------------------------------
START TRANSACTION;
USE `projet_portail_db`;
INSERT INTO `projet_portail_db`.`listeEtudiantProjet` (`idProjet`, `idEtudiant`) VALUES (1, 1);
INSERT INTO `projet_portail_db`.`listeEtudiantProjet` (`idProjet`, `idEtudiant`) VALUES (1, 3);
INSERT INTO `projet_portail_db`.`listeEtudiantProjet` (`idProjet`, `idEtudiant`) VALUES (2, 5);
INSERT INTO `projet_portail_db`.`listeEtudiantProjet` (`idProjet`, `idEtudiant`) VALUES (2, 4);

COMMIT;


-- -----------------------------------------------------
-- Data for table `projet_portail_db`.`listeProfesseurNote`
-- -----------------------------------------------------
START TRANSACTION;
USE `projet_portail_db`;
INSERT INTO `projet_portail_db`.`listeProfesseurNote` (`idNoteCour`, `idProfesseur`) VALUES (4, 8);
INSERT INTO `projet_portail_db`.`listeProfesseurNote` (`idNoteCour`, `idProfesseur`) VALUES (4, 6);
INSERT INTO `projet_portail_db`.`listeProfesseurNote` (`idNoteCour`, `idProfesseur`) VALUES (2, 7);

COMMIT;


-- -----------------------------------------------------
-- Data for table `projet_portail_db`.`Tuteur`
-- -----------------------------------------------------
START TRANSACTION;
USE `projet_portail_db`;
INSERT INTO `projet_portail_db`.`Tuteur` (`idTuteur`, `codeP`, `cour`, `typeRencontre`, `disponibilite`, `visibilite`) VALUES (1, 3450923, 'PRO-H27-PR', 'enLigne', NULL, 0);

COMMIT;


-- -----------------------------------------------------
-- Data for table `projet_portail_db`.`EtudiantDifficulte`
-- -----------------------------------------------------
START TRANSACTION;
USE `projet_portail_db`;
INSERT INTO `projet_portail_db`.`EtudiantDifficulte` (`idEtudiantDifficulte`, `codeP`, `cour`, `typeRencontre`, `disponibilite`, `description`) VALUES (1, 2949871, 'PRO-H27-PR', 'enLigne', NULL, 'everything');

COMMIT;

